<% content_for(:title, t('.title')) %>
<div>
  <h2><%= t('.title') %></h2>
  <%= form_with model: @user, url: profile_path, local: true do |f| %>
    <%= render 'shared/error_messages', object: f.object %>
    <%= f.label :email %>
    <%= f.email_field :email %>

    <%= f.label :name %>
    <%= f.text_field :name %>

    <%= f.label :avatar %>
    <%= f.file_field :avatar, onchange: 'previewFileWithId(preview)', accept: 'image/*' %>
    <%= f.hidden_field :avatar_cache %>

    <div>
      <%= image_tag @user.avatar.url,
                    id: 'preview',
                    size: '200x200' %>
    </div>

    <%= link_to t('defaults.delete'), profile_path, method: :delete, data: { confirm: t('defaults.message.user_delete_confirm') } %>

    <%= f.submit %>
  <% end %>
</div>